// 1. å¤§å¤§æ“´å±•èªå¥åº«
const headers = ['å–”å‘€ï¼Ÿ', 'å°XXé†¬ï¼Œ', 'æ—©å®‰åˆå®‰æ™šå®‰å‘€âœ¨', 'å”å”æˆ‘å•Šï¼Œ', 'çœ‹ä½ æ²’å›è¨Šæ¯æï¼Œ'];
const weather = ['ä»Šå¤©å¤©æ°£å¥½ç†±å”·ğŸ’¦', 'å¤–é¢åœ¨ä¸‹é›¨æâ˜”ï¸', 'è®Šå†·äº†è¦å¤šç©¿é»å–”ï¼', 'é™½å…‰çœŸç‡¦çˆ›å‘¢â˜€ï¸'];
const concerns = [
  'æ˜¯åœ¨å¿™å—ï¼Ÿåˆ¥å¤ªç´¯å–”',
  'æœ‰æ²’æœ‰ä¹–ä¹–åƒé£¯å‘€ï¼Ÿ',
  'å‰›å¥½çœ‹åˆ°é€™å€‹ï¼Œå°±æƒ³åˆ°ä½ äº†',
  'å‰›ä¸‹ç­å—ï¼Ÿè¾›è‹¦äº†å”·',
  'æ­£åœ¨æƒ³ä½ åœ¨å¹¹å˜›å‘¢æ'
];
const endings = ['åŠ æ²¹å–”ï¼', 'æœŸå¾…ä½ çš„å›è¦†æğŸ˜˜', 'å”å”æ°¸é æ”¯æŒä½ å”·', 'ï¼ˆç¬‘ï¼‰', 'æ‰“æ“¾åˆ°ä½ äº†å—ï¼ŸğŸ’¦'];

generateBtn.addEventListener('click', () => {
    const text = inputText.value.trim();
    if (!text) return alert('ä¸è¼¸å…¥æ–‡å­—å”å”æœƒå¿ƒç¢çš„ğŸ’”');

    // 2. éš¨æ©Ÿçµ„åˆå‡ºã€Œåƒ AI å¯«çš„ã€å¥å­
    const h = headers[Math.floor(Math.random() * headers.length)];
    const w = weather[Math.floor(Math.random() * weather.length)];
    const c = concerns[Math.floor(Math.random() * concerns.length)];
    const e = endings[Math.floor(Math.random() * endings.length)];

    // çµ„åˆï¼šé–‹å ´ + å¤©æ°£/é—œå¿ƒ + ä½ çš„è©± + çµå°¾
    let baseSentence = `${h}${w}${c}\né—œæ–¼ã€Œ${text}ã€é€™ä»¶äº‹ï¼Œ${e}`;

    // 3. åŠ ä¸Šè¡¨æƒ…ç¬¦è™Ÿè·ŸèªåŠ©è©ï¼ˆå¤§å”æ§‹æ–‡ç²¾é«“ï¼‰
    const tone = toneSelect.value;
    let repeatCount = tone === 'gentle' ? 2 : (tone === 'typical' ? 5 : 12);
    
    let result = baseSentence;
    for (let i = 0; i < repeatCount; i++) {
        result += particles[Math.floor(Math.random() * particles.length)];
        result += emojis[Math.floor(Math.random() * emojis.length)];
    }

    resultArea.textContent = result;
    copyBtn.disabled = false;
    // ... æ­·å²ç´€éŒ„é‚è¼¯ä¸è®Š ...
});
